paths:
  /group-api/driver-groups/:
    get:
      description: Get groups by driverId
      summary: Returns array of group by driverId
      tags:
        - DriverGroup
      responses:
        '200':
          description: Returns array of group by driverId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DriverGroupWithGroupAndUserResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/group/:
    post:
      description: Create group
      summary: Returns newly created group
      tags:
        - Group
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateGroupBody'
      responses:
        '200':
          description: Returns newly created group
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      description: Update group
      summary: Returns updated group
      tags:
        - Group
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGroupBody'
      responses:
        '200':
          description: Returns number of items updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRecordsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/group/{id}/':
    delete:
      description: Delete group
      summary: Returns number of groups deleted
      tags:
        - Group
      parameters:
        - name: id
          description: Group id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns number of groups deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteRecordsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/trips/groups/{groupId}/':
    get:
      description: Get trips by groupId
      summary: Returns array of trips by groupId
      tags:
        - Trip
      parameters:
        - name: groupId
          description: Group id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns array of trip by groupId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripWithGroupAndDeviceAndUserResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/trip/start/:
    post:
      description: Start a new trip
      summary: Return newly created trip
      tags:
        - Trip
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartTripBody'
      responses:
        '200':
          description: Return newly created trip
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TripResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/trip/end/:
    post:
      description: End a trip
      summary: Return number of trips ended
      tags:
        - Trip
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EndTripBody'
      responses:
        '200':
          description: Return number of trips ended
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRecordsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/pickup-dropoffs/trips/{tripId}/':
    get:
      description: Get pickup-dropoff by tripId
      summary: Returns array of pickup-dropoff by tripId
      tags:
        - PickupDropoff
      parameters:
        - name: tripId
          description: Trip id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns array of pickup-dropoff by tripId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PickupDropoffWithTripAndChildAndDriverResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/trips/pickup/:
    post:
      description: Pickup childrens by tripId
      summary: Returns array of pickupdropoff
      tags:
        - PickupDropoff
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePickupDropoffBody'
      responses:
        '200':
          description: Returns array of pickupdropoff
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PickupDropoffResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/trips/dropoff/:
    put:
      description: Dropoff childrens by tripId
      summary: Returns number of children Dropoff
      tags:
        - PickupDropoff
      requestBody:
        description: Group body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePickupDropoffBody'
      responses:
        '200':
          description: Returns number of children Dropoff
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRecordsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/childs/groups/{groupId}/':
    get:
      description: Get childs by groupId
      summary: Returns array of child-group by groupId
      tags:
        - ChildGroup
      parameters:
        - name: groupId
          description: Group Id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns array of child-group by groupId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChildGroupWithChildWithGroupResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/childs/groups/{groupId}/add/':
    post:
      description: Add childs to group
      summary: Returns added child to the group
      tags:
        - ChildGroup
      parameters:
        - name: groupId
          description: Group Id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: ChildIds body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChildGroupChildIdsBody'
      responses:
        '200':
          description: Returns added child to the group
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChildGroupResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/childs/groups/{groupId}/delete/':
    put:
      description: Removes childs from group
      summary: Returns number of child removed from the group
      tags:
        - ChildGroup
      parameters:
        - name: groupId
          description: Group Id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        description: ChildIds body
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChildGroupChildIdsBody'
      responses:
        '200':
          description: Returns number of child removed from the group
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateRecordsResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/group-api/child-groups/{childId}/':
    get:
      description: Get childs by childId
      summary: Returns array of child-group by childId
      tags:
        - ChildGroup
      parameters:
        - name: childId
          description: ChildId Id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns array of child-group by childId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChildGroupWithChildWithGroupResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/child-groups/:
    get:
      description: Get childs by user
      summary: Returns array of child-group by user
      tags:
        - ChildGroup
      responses:
        '200':
          description: Returns array of child-group by user
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChildGroupWithChildWithGroupResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /group-api/child-trips/latest/:
    get:
      description: Get latest trips for each child by user
      summary: Returns array of latest trip for each child by user
      tags:
        - Trip
      responses:
        '200':
          description: Returns array of trip by groupId
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TripWithGroupAndDeviceAndUserResponse'
        default:
          description: Error response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
